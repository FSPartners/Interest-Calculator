<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MSME Interest Calculator | FS & Partners</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom right, #f4f8fb, #e9eff5);
      color: #333;
      padding: 40px;
      margin: 0;
    }

    .banner {
      background-color: #004466;
      color: white;
      padding: 20px 30px;
      font-size: 1.3em;
      border-radius: 6px;
      margin-bottom: 30px;
      text-align: center;
    }

    h1, h2 {
      color: #004466;
    }

    .card {
      background-color: white;
      padding: 25px;
      margin-top: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .flex-row {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    label {
      font-weight: 500;
      display: block;
      margin-top: 10px;
    }

    input[type="number"],
    input[type="date"],
    input[type="text"],
    input[type="email"],
    select {
      padding: 10px;
      width: 100%;
      max-width: 300px;
      border-radius: 5px;
      border: 1px solid #ccc;
      margin-bottom: 10px;
      font-size: 1em;
    }

    button {
      background-color: #0077aa;
      color: white;
      padding: 10px 20px;
      border: none;
      margin-top: 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #005e88;
    }

    table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
      background: #fff;
    }

    th {
      background-color: #005580;
      color: white;
    }

    td, th {
      text-align: center;
      padding: 10px;
      border: 1px solid #ccc;
    }

    .footer {
      text-align: center;
      margin-top: 40px;
      font-size: 0.9em;
      color: #666;
    }
  </style>
</head>
<body>

  <div class="banner">
    INTEREST CALCULATOR
<br>
(As per Section 16 of the Micro, Small and Medium Enterprises Development Act, 2006)
  </div>

  <div class="card">
    <h2>Enter User Details</h2>
    <div class="flex-row">
      <div>
        <label for="name">Name:</label>
        <input type="text" id="name" placeholder="Your Name">
      </div>
      <div>
        <label for="email">Email:</label>
        <input type="email" id="email" placeholder="you@example.com">
      </div>
      <div>
        <label for="phone">Phone:</label>
        <input type="text" id="phone" placeholder="1234567890">
      </div>
    </div>
  </div>

  <div class="card">
    <h2>Enter Claim Details</h2>
    <div id="principalInputs">
      <div>
        <label>Principal Amount:</label>
        <input type="number" name="amount[]" required>
        <label>From Date:</label>
        <input type="date" name="fromDate[]" required>
      </div>
    </div>
    <button type="button" onclick="addRow()">+ Add Another Entry</button>

    <div class="flex-row">
      <div>
        <label>To Date (till when interest to be calculated):</label>
        <input type="date" id="toDate" required>
      </div>
      <div>
        <label>Bank Rate (%):</label>
        <input type="number" id="bankRate" required>
        <small>
          <a href="https://www.bankbazaar.com/home-loan/repo-rate.html" target="_blank">
            Check Latest Bank Rate
          </a>
        </small>
      </div>
      <div>
        <label>Compound Type:</label>
        <select id="compoundType">
          <option value="monthly">Monthly Rest</option>
          <option value="annually">Annual Rest</option>
        </select>
      </div>
    </div>

    <button onclick="calculate()">Calculate Interest</button>
  </div>

  <div class="card" id="results" style="display: none;">
    <h2>Calculation Results</h2>
    <table id="resultTable">
      <tr>
        <th>Principal</th>
        <th>From</th>
        <th>To</th>
        <th>Interest</th>
        <th>Total Amount</th>
      </tr>
    </table>
    <h3 id="grandTotal"></h3>
    <button onclick="window.print()">Print Result</button>
  </div>

  <div class="footer">
    © 2025 FS & Partners, Delhi. For assistance, contact us directly.
  </div>

  <script>
    function addRow() {
      const container = document.getElementById("principalInputs");
      const div = document.createElement("div");
      div.innerHTML = `
        <label>Principal Amount:</label>
        <input type="number" name="amount[]" required>
        <label>From Date:</label>
        <input type="date" name="fromDate[]" required>
      `;
      container.appendChild(div);
    }

    function calculate() {
      const amounts = document.getElementsByName("amount[]");
      const fromDates = document.getElementsByName("fromDate[]");
      const toDate = new Date(document.getElementById("toDate").value);
      const bankRate = parseFloat(document.getElementById("bankRate").value);
      const interestRate = bankRate * 3;
      const type = document.getElementById("compoundType").value;

      const table = document.getElementById("resultTable");
      table.innerHTML = `
        <tr>
          <th>Principal</th>
          <th>From</th>
          <th>To</th>
          <th>Interest @${interestRate.toFixed(2)}%*</th>
          <th>Total Amount</th>
        </tr>
      `;

      let grandTotal = 0;

      for (let i = 0; i < amounts.length; i++) {
        const principal = parseFloat(amounts[i].value);
        const from = new Date(fromDates[i].value);

        let n;
        if (type === "monthly") {
          n = (toDate.getFullYear() - from.getFullYear()) * 12 + (toDate.getMonth() - from.getMonth());
        } else {
          n = toDate.getFullYear() - from.getFullYear();
        }

        const r = interestRate / 100;
        const compoundFreq = (type === "monthly") ? 12 : 1;
        const interest = principal * (Math.pow(1 + r / compoundFreq, n) - 1);
        const total = principal + interest;

        table.innerHTML += `
          <tr>
            <td>₹${principal.toFixed(2)}</td>
            <td>${from.toISOString().split('T')[0]}</td>
            <td>${toDate.toISOString().split('T')[0]}</td>
            <td>₹${interest.toFixed(2)}</td>
            <td>₹${total.toFixed(2)}</td>
          </tr>
        `;
        grandTotal += total;
      }

      document.getElementById("grandTotal").innerText = `Grand Total Amount Payable: ₹${grandTotal.toFixed(2)}`;
      document.getElementById("results").style.display = "block";
    }
  </script>
</body>
</html>
